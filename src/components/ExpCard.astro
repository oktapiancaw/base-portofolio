---
import type { ExperienceType } from "../constant/schema.types";
import { formatDateRange } from "../lib/formatter";

interface Props {
  experience: ExperienceType;
}

const { experience } = Astro.props;
---

<div
  class="flex w-full flex-col flex-1 space-y-2 px-4 pt-3 pb-6 shadow-lg shadow-gray-200/20 dark:shadow-gray-950/20 rounded-md border border-gray-200 from-gray-50/20 to-gray-200/20 dark:border-gray-900 bg-gradient-to-b dark:from-gray-900/20 dark:to-gray-950/20"
>
  <div class="flex flex-wrap flex-row-reverse justify-between items-center">
    <p class="text-gray-600 text-left dark:text-gray-500 text-xs sm:text-sm">
      {
        formatDateRange(
          {
            year: "numeric",
            month: "short",
          },
          experience.start_date,
          experience?.end_date ?? "Present"
        )
      }
    </p>
    <p class="font-semibold text-gray-800 dark:text-gray-100 text-base sm:text-lg">
      {experience.job_title}
    </p>
    
  </div>
  <div class="flex flex-wrap gap-4 items-center justify-between md:justify-start space-x-4">
    <p class="font-normal text-gray-700 dark:text-gray-400">
      {experience.company}
    </p>
    <div class="flex  space-x-3">
      {
        experience.work_model && (
          <span class="uppercase whitespace-nowrap cursor-default text-xs p-1.5 bg-gray-200 dark:bg-gray-900">
            {experience.work_model}
          </span>
        )
      }
      {
        experience.work_hours && (
          <span class="uppercase whitespace-nowrap cursor-default text-xs p-1.5 bg-gray-200 dark:bg-gray-900">
            {experience.work_hours}
          </span>
        )
      }
    </div>
  </div>
  <div class="relative hidden sm:grid text-gray-600 dark:text-gray-500 mt-3 mb-4 gap-y-1 text-sm">
    {experience.tasks?.map((task) => <p>{task}</p>)}
  </div>
  <div class="flex flex-wrap mt-4 sm:mt-0 gap-2 items-center">
    {
      experience.tech_stacks?.map((tech) => (
        <span class="capitalize whitespace-nowrap  text-xs p-1.5 rounded-sm border border-gray-400 hover:border-gray-200  dark:border-gray-800 hover:dark:border-gray-900 transition-colors duration-300 text-gray-600 hover:text-gray-400 cursor-default dark:text-gray-400 hover:dark:text-gray-700">
          {tech}
        </span>
      ))
    }
  </div>
</div>
